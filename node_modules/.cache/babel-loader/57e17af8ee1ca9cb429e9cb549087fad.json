{"ast":null,"code":"var _jsxFileName = \"/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/AccountV2/ModalDeposit/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport useStyles from './style';\nimport useCommonStyle from '../../../styles/CommonStyle';\nimport { approve } from '../../../store/actions/sota-token';\nimport { deposit } from '../../../store/actions/sota-tiers';\nimport { useWeb3React } from '@web3-react/core';\nimport BigNumber from 'bignumber.js';\nimport { CONVERSION_RATE } from '../../../constants';\nimport { numberWithCommas } from '../../../utils/formatNumber';\nimport NumberFormat from 'react-number-format';\nimport { Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst closeIcon = '/images/icons/close.svg';\nconst REGEX_NUMBER = /^-?[0-9]{0,}[.]{0,1}[0-9]{0,6}$/;\n\nconst ModalDeposit = props => {\n  _s();\n\n  var _listTokenDetails$4, _CONVERSION_RATE$, _CONVERSION_RATE$2, _listTokenDetails$5;\n\n  const styles = useStyles();\n  const dispatch = useDispatch();\n  const commonStyles = useCommonStyle();\n  const [depositAmount, setDepositAmount] = useState('');\n  const [disableDeposit, setDisableDeposit] = useState(true);\n  const {\n    data: allowance = 0\n  } = useSelector(state => state.allowance);\n  const {\n    data: userInfo = {}\n  } = useSelector(state => state.userInfo);\n  const {\n    data: balance = {}\n  } = useSelector(state => state.balance);\n  const {\n    loading\n  } = useSelector(state => state.approve);\n  const {\n    account: connectedAccount,\n    library\n  } = useWeb3React();\n  const {\n    data: appChainID\n  } = useSelector(state => state.appNetwork);\n  const {\n    data: rates\n  } = useSelector(state => state.rates);\n  const {\n    setOpenModalDeposit,\n    setOpenModalTransactionSubmitting,\n    listTokenDetails,\n    open,\n    totalStaked\n  } = props;\n  const [currentToken, setCurrentToken] = useState(undefined);\n  const [currentBalance, setCurrentBalance] = useState('0');\n  const [currentStaked, setCurrentStaked] = useState('0');\n  const [currentAllowance, setCurrentAllowance] = useState('0');\n  const [currentRate, setCurrentRate] = useState(0);\n\n  const setDefaultToken = () => {\n    setCurrentToken(listTokenDetails[0]);\n    setCurrentBalance(balance.pkf);\n    setCurrentStaked(userInfo.pkfStaked);\n    setCurrentAllowance(allowance.pkf);\n    setCurrentRate(1);\n  };\n\n  useEffect(() => {\n    setDefaultToken();\n  }, [balance, userInfo, listTokenDetails]);\n  useEffect(() => {\n    if (depositAmount === '' || depositAmount === '0') {\n      setDisableDeposit(true);\n      return;\n    }\n\n    if (!connectedAccount) return;\n\n    if (!isNaN(parseFloat(currentBalance)) && !isNaN(parseFloat(depositAmount))) {\n      const tokenBalance = new BigNumber(currentBalance).multipliedBy(new BigNumber(10).pow(18));\n      const amount = new BigNumber(depositAmount).multipliedBy(new BigNumber(10).pow(18));\n      const zero = new BigNumber('0');\n      setDisableDeposit(tokenBalance.lt(amount) || amount.lte(zero));\n    }\n  }, [connectedAccount, balance, depositAmount, currentToken]);\n  useEffect(() => {\n    var _listTokenDetails$, _listTokenDetails$2, _listTokenDetails$3;\n\n    if (listTokenDetails.length == 0 || rates.length == 0 || !currentToken) return;\n\n    if ((currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == ((_listTokenDetails$ = listTokenDetails[0]) === null || _listTokenDetails$ === void 0 ? void 0 : _listTokenDetails$.symbol)) {\n      setCurrentRate(1);\n    } else if ((currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == ((_listTokenDetails$2 = listTokenDetails[1]) === null || _listTokenDetails$2 === void 0 ? void 0 : _listTokenDetails$2.symbol)) {\n      var _rates$data$;\n\n      setCurrentRate(parseFloat(rates === null || rates === void 0 ? void 0 : (_rates$data$ = rates.data[0]) === null || _rates$data$ === void 0 ? void 0 : _rates$data$.rate));\n    } else if ((currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == ((_listTokenDetails$3 = listTokenDetails[2]) === null || _listTokenDetails$3 === void 0 ? void 0 : _listTokenDetails$3.symbol)) {\n      var _rates$data$2;\n\n      setCurrentRate(parseFloat(rates === null || rates === void 0 ? void 0 : (_rates$data$2 = rates.data[1]) === null || _rates$data$2 === void 0 ? void 0 : _rates$data$2.rate));\n    }\n  }, [rates, currentToken, listTokenDetails]);\n\n  const onDeposit = () => {\n    if (disableDeposit) return;\n    dispatch(deposit(connectedAccount, depositAmount, library, currentToken.address));\n    setOpenModalTransactionSubmitting(true);\n    setOpenModalDeposit(false);\n    setDepositAmount('');\n    setDefaultToken();\n  };\n\n  const onApprove = () => {\n    dispatch(approve(connectedAccount, library, currentToken.address));\n    setOpenModalTransactionSubmitting(true);\n    setOpenModalDeposit(false);\n    setDepositAmount('');\n    setDefaultToken();\n  };\n\n  const handleClose = () => {\n    setOpenModalDeposit(false);\n    setDepositAmount('');\n    setDefaultToken();\n  };\n\n  const handleSelectToken = e => {\n    const tokens = listTokenDetails.filter(tokenDetails => {\n      return tokenDetails.symbol == e.target.value;\n    });\n    setCurrentToken(tokens[0]);\n\n    if (e.target.value == 'PKF') {\n      setCurrentBalance(balance.pkf);\n      setCurrentStaked(userInfo.pkfStaked);\n      setCurrentAllowance(allowance.pkf);\n    } else if (e.target.value == CONVERSION_RATE[0].key && appChainID.appChainID == '5' || e.target.value == CONVERSION_RATE[0].keyMainnet && appChainID.appChainID == '1') {\n      setCurrentBalance(balance.uni);\n      setCurrentStaked(userInfo.uniStaked);\n      setCurrentAllowance(allowance.uni);\n    } else if (e.target.value == CONVERSION_RATE[1].key && appChainID.appChainID == '5' || e.target.value == CONVERSION_RATE[1].keyMainnet && appChainID.appChainID == '1') {\n      setCurrentBalance(balance.mantra);\n      setCurrentStaked(userInfo.mantraStaked);\n      setCurrentAllowance(allowance.mantra);\n    }\n  };\n\n  const handleChange = e => {\n    const value = e.target.value.replaceAll(\",\", \"\");\n\n    if (value === '' || REGEX_NUMBER.test(value)) {\n      setDepositAmount(value);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    className: commonStyles.modal + ' ' + this.styles.modalDeposit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        className: \"modal-content__head\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: closeIcon,\n          className: \"btn-close\",\n          onClick: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: [\"You have \", numberWithCommas(totalStaked), \" \", (_listTokenDetails$4 = listTokenDetails[0]) === null || _listTokenDetails$4 === void 0 ? void 0 : _listTokenDetails$4.symbol, \" staked\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: this.styles.description,\n          children: currentAllowance == '0' ? 'You need to Approve once (and only once) before you can start staking.' : 'You have approved. Click Stake to stake.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"modal-content__body\",\n        children: [open && /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"select_token\",\n          id: \"select-token\",\n          onChange: e => handleSelectToken(e),\n          children: listTokenDetails && listTokenDetails.map((tokenDetails, index) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tokenDetails === null || tokenDetails === void 0 ? void 0 : tokenDetails.symbol,\n              children: index === 0 ? 'Polkafoundry (PKF)' : `${CONVERSION_RATE[index - 1].name} (${CONVERSION_RATE[index - 1].symbol})`\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.styles.group,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"balance\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Your wallet balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [!currentBalance ? 0 : numberWithCommas(currentBalance), \" \", (currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == 'PKF' ? 'PKF' : appChainID.appChainID == '5' && (currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == CONVERSION_RATE[0].key || appChainID.appChainID == '1' && (currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol) == CONVERSION_RATE[0].keyMainnet ? (_CONVERSION_RATE$ = CONVERSION_RATE[0]) === null || _CONVERSION_RATE$ === void 0 ? void 0 : _CONVERSION_RATE$.symbol : (_CONVERSION_RATE$2 = CONVERSION_RATE[1]) === null || _CONVERSION_RATE$2 === void 0 ? void 0 : _CONVERSION_RATE$2.symbol]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subtitle\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(NumberFormat, {\n              type: \"text\",\n              placeholder: '0',\n              thousandSeparator: true,\n              onChange: e => handleChange(e),\n              decimalScale: 6,\n              value: depositAmount,\n              min: 0,\n              maxLength: 255\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-max\",\n                id: \"btn-max-deposit\",\n                onClick: () => setDepositAmount(currentBalance),\n                children: \"MAX\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"balance\",\n            style: {\n              marginTop: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Equivalent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [numberWithCommas((parseFloat(depositAmount) * currentRate || 0).toString()), \" \", (_listTokenDetails$5 = listTokenDetails[0]) === null || _listTokenDetails$5 === void 0 ? void 0 : _listTokenDetails$5.symbol]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        className: \"modal-content__foot\",\n        children: [currentAllowance == '0' ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-approve\" + (loading ? 'disabled' : ''),\n          onClick: onApprove,\n          disabled: loading,\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 36\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-staking \" + (disableDeposit ? 'disabled' : ''),\n          onClick: onDeposit,\n          children: \"Stake\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-cancel\",\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalDeposit, \"1k+8rru2wTxj3KaBnNfTmqWL1ZM=\", false, function () {\n  return [useStyles, useDispatch, useCommonStyle, useSelector, useSelector, useSelector, useSelector, useWeb3React, useSelector, useSelector];\n});\n\n_c = ModalDeposit;\nexport default ModalDeposit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalDeposit\");","map":{"version":3,"sources":["/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/AccountV2/ModalDeposit/index.tsx"],"names":["useState","useEffect","useSelector","useDispatch","useStyles","useCommonStyle","approve","deposit","useWeb3React","BigNumber","CONVERSION_RATE","numberWithCommas","NumberFormat","Dialog","DialogTitle","DialogContent","DialogActions","closeIcon","REGEX_NUMBER","ModalDeposit","props","styles","dispatch","commonStyles","depositAmount","setDepositAmount","disableDeposit","setDisableDeposit","data","allowance","state","userInfo","balance","loading","account","connectedAccount","library","appChainID","appNetwork","rates","setOpenModalDeposit","setOpenModalTransactionSubmitting","listTokenDetails","open","totalStaked","currentToken","setCurrentToken","undefined","currentBalance","setCurrentBalance","currentStaked","setCurrentStaked","currentAllowance","setCurrentAllowance","currentRate","setCurrentRate","setDefaultToken","pkf","pkfStaked","isNaN","parseFloat","tokenBalance","multipliedBy","pow","amount","zero","lt","lte","length","symbol","rate","onDeposit","address","onApprove","handleClose","handleSelectToken","e","tokens","filter","tokenDetails","target","value","key","keyMainnet","uni","uniStaked","mantra","mantraStaked","handleChange","replaceAll","test","modal","modalDeposit","description","map","index","name","group","marginTop","toString"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,SAAP,MAAsB,SAAtB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,gBAAT,QAAiC,6BAAjC;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,SAAQC,MAAR,EAAgBC,WAAhB,EAA6BC,aAA7B,EAA4CC,aAA5C,QAAgE,mBAAhE;;AAEA,MAAMC,SAAS,GAAG,yBAAlB;AACA,MAAMC,YAAY,GAAG,iCAArB;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAgB;AAAA;;AAAA;;AACnC,QAAMC,MAAM,GAAGjB,SAAS,EAAxB;AACA,QAAMkB,QAAQ,GAAGnB,WAAW,EAA5B;AACA,QAAMoB,YAAY,GAAGlB,cAAc,EAAnC;AAEA,QAAM,CAACmB,aAAD,EAAgBC,gBAAhB,IAAoCzB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAAC0B,cAAD,EAAiBC,iBAAjB,IAAsC3B,QAAQ,CAAC,IAAD,CAApD;AAEA,QAAM;AAAE4B,IAAAA,IAAI,EAAEC,SAAS,GAAG;AAApB,MAA0B3B,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACD,SAAvB,CAA3C;AACA,QAAM;AAAED,IAAAA,IAAI,EAAEG,QAAQ,GAAG;AAAnB,MAA0B7B,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACC,QAAvB,CAA3C;AACA,QAAM;AAAEH,IAAAA,IAAI,EAAEI,OAAO,GAAG;AAAlB,MAAyB9B,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACE,OAAvB,CAA1C;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAc/B,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACxB,OAAvB,CAA/B;AACA,QAAM;AAAE4B,IAAAA,OAAO,EAAEC,gBAAX;AAA6BC,IAAAA;AAA7B,MAAyC5B,YAAY,EAA3D;AACA,QAAM;AAAEoB,IAAAA,IAAI,EAAES;AAAR,MAAuBnC,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACQ,UAAvB,CAAxC;AACA,QAAM;AAAEV,IAAAA,IAAI,EAAEW;AAAR,MAAkBrC,WAAW,CAAE4B,KAAD,IAAgBA,KAAK,CAACS,KAAvB,CAAnC;AAEA,QAAM;AACJC,IAAAA,mBADI;AAEJC,IAAAA,iCAFI;AAGJC,IAAAA,gBAHI;AAIJC,IAAAA,IAJI;AAKJC,IAAAA;AALI,MAMFxB,KANJ;AAOA,QAAM,CAACyB,YAAD,EAAeC,eAAf,IAAkC9C,QAAQ,CAAC+C,SAAD,CAAhD;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCjD,QAAQ,CAAC,GAAD,CAApD;AACA,QAAM,CAACkD,aAAD,EAAgBC,gBAAhB,IAAoCnD,QAAQ,CAAC,GAAD,CAAlD;AACA,QAAM,CAACoD,gBAAD,EAAmBC,mBAAnB,IAA0CrD,QAAQ,CAAC,GAAD,CAAxD;AACA,QAAM,CAACsD,WAAD,EAAcC,cAAd,IAAgCvD,QAAQ,CAAC,CAAD,CAA9C;;AAEA,QAAMwD,eAAe,GAAG,MAAM;AAC5BV,IAAAA,eAAe,CAACJ,gBAAgB,CAAC,CAAD,CAAjB,CAAf;AACAO,IAAAA,iBAAiB,CAACjB,OAAO,CAACyB,GAAT,CAAjB;AACAN,IAAAA,gBAAgB,CAACpB,QAAQ,CAAC2B,SAAV,CAAhB;AACAL,IAAAA,mBAAmB,CAACxB,SAAS,CAAC4B,GAAX,CAAnB;AACAF,IAAAA,cAAc,CAAC,CAAD,CAAd;AACD,GAND;;AAQAtD,EAAAA,SAAS,CAAC,MAAM;AACduD,IAAAA,eAAe;AAChB,GAFQ,EAEN,CAACxB,OAAD,EAAUD,QAAV,EAAoBW,gBAApB,CAFM,CAAT;AAIAzC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGuB,aAAa,KAAK,EAAlB,IAAwBA,aAAa,KAAK,GAA7C,EAAkD;AAChDG,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA;AACD;;AACD,QAAG,CAACQ,gBAAJ,EAAsB;;AACtB,QAAG,CAACwB,KAAK,CAACC,UAAU,CAACZ,cAAD,CAAX,CAAN,IACE,CAACW,KAAK,CAACC,UAAU,CAACpC,aAAD,CAAX,CADX,EAEA;AACE,YAAMqC,YAAY,GAAG,IAAIpD,SAAJ,CAAcuC,cAAd,EAA8Bc,YAA9B,CAA2C,IAAIrD,SAAJ,CAAc,EAAd,EAAkBsD,GAAlB,CAAsB,EAAtB,CAA3C,CAArB;AACA,YAAMC,MAAM,GAAG,IAAIvD,SAAJ,CAAce,aAAd,EAA6BsC,YAA7B,CAA0C,IAAIrD,SAAJ,CAAc,EAAd,EAAkBsD,GAAlB,CAAsB,EAAtB,CAA1C,CAAf;AACA,YAAME,IAAI,GAAG,IAAIxD,SAAJ,CAAc,GAAd,CAAb;AACAkB,MAAAA,iBAAiB,CAACkC,YAAY,CAACK,EAAb,CAAgBF,MAAhB,KAA2BA,MAAM,CAACG,GAAP,CAAWF,IAAX,CAA5B,CAAjB;AACD;AACF,GAdQ,EAcN,CAAC9B,gBAAD,EAAmBH,OAAnB,EAA4BR,aAA5B,EAA2CqB,YAA3C,CAdM,CAAT;AAgBA5C,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,QAAGyC,gBAAgB,CAAC0B,MAAjB,IAA2B,CAA3B,IAAgC7B,KAAK,CAAC6B,MAAN,IAAgB,CAAhD,IAAqD,CAACvB,YAAzD,EAAuE;;AACvE,QAAG,CAAAA,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,4BAAwB3B,gBAAgB,CAAC,CAAD,CAAxC,uDAAwB,mBAAqB2B,MAA7C,CAAH,EAAwD;AACtDd,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD,KAFD,MAEO,IAAG,CAAAV,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,6BAAwB3B,gBAAgB,CAAC,CAAD,CAAxC,wDAAwB,oBAAqB2B,MAA7C,CAAH,EACP;AAAA;;AACEd,MAAAA,cAAc,CAACK,UAAU,CAACrB,KAAD,aAACA,KAAD,uCAACA,KAAK,CAAEX,IAAP,CAAY,CAAZ,CAAD,iDAAC,aAAgB0C,IAAjB,CAAX,CAAd;AACD,KAHM,MAGA,IAAG,CAAAzB,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,6BAAwB3B,gBAAgB,CAAC,CAAD,CAAxC,wDAAwB,oBAAqB2B,MAA7C,CAAH,EACP;AAAA;;AACEd,MAAAA,cAAc,CAACK,UAAU,CAACrB,KAAD,aAACA,KAAD,wCAACA,KAAK,CAAEX,IAAP,CAAY,CAAZ,CAAD,kDAAC,cAAgB0C,IAAjB,CAAX,CAAd;AACD;AACF,GAXQ,EAWN,CAAC/B,KAAD,EAAQM,YAAR,EAAsBH,gBAAtB,CAXM,CAAT;;AAaA,QAAM6B,SAAS,GAAG,MAAM;AACtB,QAAG7C,cAAH,EAAmB;AACnBJ,IAAAA,QAAQ,CAACf,OAAO,CAAC4B,gBAAD,EAAmBX,aAAnB,EAAkCY,OAAlC,EAA2CS,YAAY,CAAC2B,OAAxD,CAAR,CAAR;AACA/B,IAAAA,iCAAiC,CAAC,IAAD,CAAjC;AACAD,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAf,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACA+B,IAAAA,eAAe;AAChB,GAPD;;AASA,QAAMiB,SAAS,GAAG,MAAM;AACtBnD,IAAAA,QAAQ,CAAChB,OAAO,CAAC6B,gBAAD,EAAmBC,OAAnB,EAA4BS,YAAY,CAAC2B,OAAzC,CAAR,CAAR;AACA/B,IAAAA,iCAAiC,CAAC,IAAD,CAAjC;AACAD,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAf,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACA+B,IAAAA,eAAe;AAChB,GAND;;AAQA,QAAMkB,WAAW,GAAG,MAAM;AACxBlC,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAf,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACA+B,IAAAA,eAAe;AAChB,GAJD;;AAMA,QAAMmB,iBAAiB,GAAIC,CAAD,IAAY;AACpC,UAAMC,MAAM,GAAGnC,gBAAgB,CAACoC,MAAjB,CAAyBC,YAAD,IAAuB;AAC5D,aAAOA,YAAY,CAACV,MAAb,IAAuBO,CAAC,CAACI,MAAF,CAASC,KAAvC;AACD,KAFc,CAAf;AAGAnC,IAAAA,eAAe,CAAC+B,MAAM,CAAC,CAAD,CAAP,CAAf;;AACA,QAAGD,CAAC,CAACI,MAAF,CAASC,KAAT,IAAkB,KAArB,EAA4B;AAC1BhC,MAAAA,iBAAiB,CAACjB,OAAO,CAACyB,GAAT,CAAjB;AACAN,MAAAA,gBAAgB,CAACpB,QAAQ,CAAC2B,SAAV,CAAhB;AACAL,MAAAA,mBAAmB,CAACxB,SAAS,CAAC4B,GAAX,CAAnB;AACD,KAJD,MAIO,IAAGmB,CAAC,CAACI,MAAF,CAASC,KAAT,IAAkBvE,eAAe,CAAC,CAAD,CAAf,CAAmBwE,GAArC,IAA4C7C,UAAU,CAACA,UAAX,IAAyB,GAArE,IACLuC,CAAC,CAACI,MAAF,CAASC,KAAT,IAAkBvE,eAAe,CAAC,CAAD,CAAf,CAAmByE,UAArC,IAAmD9C,UAAU,CAACA,UAAX,IAAyB,GAD1E,EAEP;AACEY,MAAAA,iBAAiB,CAACjB,OAAO,CAACoD,GAAT,CAAjB;AACAjC,MAAAA,gBAAgB,CAACpB,QAAQ,CAACsD,SAAV,CAAhB;AACAhC,MAAAA,mBAAmB,CAACxB,SAAS,CAACuD,GAAX,CAAnB;AACD,KANM,MAMA,IAAGR,CAAC,CAACI,MAAF,CAASC,KAAT,IAAkBvE,eAAe,CAAC,CAAD,CAAf,CAAmBwE,GAArC,IAA4C7C,UAAU,CAACA,UAAX,IAAyB,GAArE,IACLuC,CAAC,CAACI,MAAF,CAASC,KAAT,IAAkBvE,eAAe,CAAC,CAAD,CAAf,CAAmByE,UAArC,IAAmD9C,UAAU,CAACA,UAAX,IAAyB,GAD1E,EAEP;AACEY,MAAAA,iBAAiB,CAACjB,OAAO,CAACsD,MAAT,CAAjB;AACAnC,MAAAA,gBAAgB,CAACpB,QAAQ,CAACwD,YAAV,CAAhB;AACAlC,MAAAA,mBAAmB,CAACxB,SAAS,CAACyD,MAAX,CAAnB;AACD;AACF,GAtBD;;AAuBA,QAAME,YAAY,GAAIZ,CAAD,IAAY;AAC/B,UAAMK,KAAK,GAAGL,CAAC,CAACI,MAAF,CAASC,KAAT,CAAeQ,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAd;;AACA,QAAIR,KAAK,KAAK,EAAV,IAAgB/D,YAAY,CAACwE,IAAb,CAAkBT,KAAlB,CAApB,EAA8C;AAC5CxD,MAAAA,gBAAgB,CAACwD,KAAD,CAAhB;AACD;AACF,GALD;;AAOA,sBACE,QAAC,MAAD;AACE,IAAA,IAAI,EAAEtC,IADR;AAEE,IAAA,WAAW,MAFb;AAGE,IAAA,OAAO,EAAE+B,WAHX;AAIE,uBAAgB,0BAJlB;AAKE,wBAAiB,gCALnB;AAME,IAAA,SAAS,EAAEnD,YAAY,CAACoE,KAAb,GAAqB,GAArB,GAA2B,KAAKtE,MAAL,CAAYuE,YANpD;AAAA,2BAQE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,EAAE,EAAC,0BAAhB;AAA2C,QAAA,SAAS,EAAC,qBAArD;AAAA,gCACE;AAAK,UAAA,GAAG,EAAE3E,SAAV;AAAqB,UAAA,SAAS,EAAC,WAA/B;AAA2C,UAAA,OAAO,EAAEyD;AAApD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,SAAS,EAAC,OAAd;AAAA,kCAAgC/D,gBAAgB,CAACiC,WAAD,CAAhD,8BAAgEF,gBAAgB,CAAC,CAAD,CAAhF,wDAAgE,oBAAqB2B,MAArF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAG,UAAA,SAAS,EAAE,KAAKhD,MAAL,CAAYwE,WAA1B;AAAA,oBAAwCzC,gBAAgB,IAAI,GAApB,GAA0B,wEAA1B,GACpC;AADJ;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAQE,QAAC,aAAD;AAAe,QAAA,SAAS,EAAC,qBAAzB;AAAA,mBACGT,IAAI,iBAAI;AAAQ,UAAA,IAAI,EAAC,cAAb;AAA4B,UAAA,EAAE,EAAC,cAA/B;AAA8C,UAAA,QAAQ,EAAGiC,CAAD,IAAOD,iBAAiB,CAACC,CAAD,CAAhF;AAAA,oBACNlC,gBAAgB,IAAIA,gBAAgB,CAACoD,GAAjB,CAAqB,CAACf,YAAD,EAAoBgB,KAApB,KAAsC;AAC9E,gCAAO;AAAQ,cAAA,KAAK,EAAEhB,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEV,MAA7B;AAAA,wBACL0B,KAAK,KAAK,CAAV,GAAc,oBAAd,GAAsC,GAAErF,eAAe,CAACqF,KAAK,GAAG,CAAT,CAAf,CAA2BC,IAAK,KAAItF,eAAe,CAACqF,KAAK,GAAG,CAAT,CAAf,CAA2B1B,MAAO;AADzG,eAA0C0B,KAA1C;AAAA;AAAA;AAAA;AAAA,oBAAP;AAGD,WAJoB;AADd;AAAA;AAAA;AAAA;AAAA,gBADX,eASE;AAAK,UAAA,SAAS,EAAE,KAAK1E,MAAL,CAAY4E,KAA5B;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,SAAf;AAAA,mCACE;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA,2BAAQ,CAACjD,cAAD,GAAkB,CAAlB,GAAsBrC,gBAAgB,CAACqC,cAAD,CAA9C,OACE,CAAAH,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,KAAwB,KAAxB,GAAgC,KAAhC,GACGhC,UAAU,CAACA,UAAX,IAAyB,GAAzB,IAAgC,CAAAQ,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,KAAwB3D,eAAe,CAAC,CAAD,CAAf,CAAmBwE,GAA3E,IACD7C,UAAU,CAACA,UAAX,IAAyB,GAAzB,IAAgC,CAAAQ,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEwB,MAAd,KAAwB3D,eAAe,CAAC,CAAD,CAAf,CAAmByE,UAD3E,wBACyFzE,eAAe,CAAC,CAAD,CADxG,sDACyF,kBAAoB2D,MAD7G,yBACsH3D,eAAe,CAAC,CAAD,CADrI,uDACsH,mBAAoB2D,MAH9I;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAWE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAXF,eAcE;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,oCACE,QAAC,YAAD;AACE,cAAA,IAAI,EAAC,MADP;AAEE,cAAA,WAAW,EAAE,GAFf;AAGE,cAAA,iBAAiB,EAAE,IAHrB;AAIE,cAAA,QAAQ,EAAEO,CAAC,IAAIY,YAAY,CAACZ,CAAD,CAJ7B;AAKE,cAAA,YAAY,EAAE,CALhB;AAME,cAAA,KAAK,EAAEpD,aANT;AAOE,cAAA,GAAG,EAAE,CAPP;AAQE,cAAA,SAAS,EAAE;AARb;AAAA;AAAA;AAAA;AAAA,oBADF,eAWE;AAAA,qCACE;AAAQ,gBAAA,SAAS,EAAC,SAAlB;AAA4B,gBAAA,EAAE,EAAC,iBAA/B;AAAiD,gBAAA,OAAO,EAAE,MAAMC,gBAAgB,CAACuB,cAAD,CAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdF,eA6BE;AAAK,YAAA,SAAS,EAAC,SAAf;AAAyB,YAAA,KAAK,EAAE;AAACkD,cAAAA,SAAS,EAAE;AAAZ,aAAhC;AAAA,mCACE;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA,2BAAOvF,gBAAgB,CAAC,CAACiD,UAAU,CAACpC,aAAD,CAAV,GAA4B8B,WAA5B,IAA2C,CAA5C,EAA+C6C,QAA/C,EAAD,CAAvB,8BAAqFzD,gBAAgB,CAAC,CAAD,CAArG,wDAAqF,oBAAqB2B,MAA1G;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eAsDE,QAAC,aAAD;AAAe,QAAA,SAAS,EAAC,qBAAzB;AAAA,mBACGjB,gBAAgB,IAAE,GAAlB,gBAAwB;AACvB,UAAA,SAAS,EAAE,iBAAiBnB,OAAO,GAAG,UAAH,GAAgB,EAAxC,CADY;AAEvB,UAAA,OAAO,EAAEwC,SAFc;AAGvB,UAAA,QAAQ,EAAExC,OAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAxB,gBAImB;AAClB,UAAA,SAAS,EAAE,kBAAkBP,cAAc,GAAG,UAAH,GAAgB,EAAhD,CADO;AAElB,UAAA,OAAO,EAAE6C,SAFS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALtB,eASE;AACE,UAAA,SAAS,EAAC,YADZ;AAEE,UAAA,OAAO,EAAEG,WAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cAtDF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,UADF;AAgFD,CA3MD;;GAAMvD,Y;UACWf,S,EACED,W,EACIE,c,EAKWH,W,EACAA,W,EACDA,W,EACXA,W,EAC2BM,Y,EAClBN,W,EACLA,W;;;KAdpBiB,Y;AA6MN,eAAeA,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport useStyles from './style';\nimport useCommonStyle from '../../../styles/CommonStyle';\nimport { approve } from '../../../store/actions/sota-token';\nimport { deposit } from '../../../store/actions/sota-tiers';\nimport { useWeb3React } from '@web3-react/core';\nimport BigNumber from 'bignumber.js';\nimport { CONVERSION_RATE } from '../../../constants';\nimport { numberWithCommas } from '../../../utils/formatNumber';\nimport NumberFormat from 'react-number-format';\nimport {Dialog, DialogTitle, DialogContent, DialogActions} from '@material-ui/core';\n\nconst closeIcon = '/images/icons/close.svg';\nconst REGEX_NUMBER = /^-?[0-9]{0,}[.]{0,1}[0-9]{0,6}$/;\n\nconst ModalDeposit = (props: any) => {\n  const styles = useStyles();\n  const dispatch = useDispatch();\n  const commonStyles = useCommonStyle();\n\n  const [depositAmount, setDepositAmount] = useState('');\n  const [disableDeposit, setDisableDeposit] = useState(true);\n\n  const { data: allowance = 0 } = useSelector((state: any) => state.allowance);\n  const { data: userInfo = {} } = useSelector((state: any) => state.userInfo);\n  const { data: balance = {} } = useSelector((state: any) => state.balance);\n  const { loading } = useSelector((state: any) => state.approve)\n  const { account: connectedAccount, library } = useWeb3React();\n  const { data: appChainID } = useSelector((state: any) => state.appNetwork);\n  const { data: rates } = useSelector((state: any) => state.rates);\n\n  const {\n    setOpenModalDeposit,\n    setOpenModalTransactionSubmitting,\n    listTokenDetails,\n    open,\n    totalStaked\n  } = props;\n  const [currentToken, setCurrentToken] = useState(undefined) as any;\n  const [currentBalance, setCurrentBalance] = useState('0');\n  const [currentStaked, setCurrentStaked] = useState('0');\n  const [currentAllowance, setCurrentAllowance] = useState('0');\n  const [currentRate, setCurrentRate] = useState(0);\n\n  const setDefaultToken = () => {\n    setCurrentToken(listTokenDetails[0])\n    setCurrentBalance(balance.pkf)\n    setCurrentStaked(userInfo.pkfStaked)\n    setCurrentAllowance(allowance.pkf)\n    setCurrentRate(1)\n  }\n\n  useEffect(() => {\n    setDefaultToken();\n  }, [balance, userInfo, listTokenDetails])\n\n  useEffect(() => {\n    if(depositAmount === '' || depositAmount === '0') {\n      setDisableDeposit(true)\n      return\n    }\n    if(!connectedAccount) return\n    if(!isNaN(parseFloat(currentBalance))\n      && !isNaN(parseFloat(depositAmount)))\n    {\n      const tokenBalance = new BigNumber(currentBalance).multipliedBy(new BigNumber(10).pow(18))\n      const amount = new BigNumber(depositAmount).multipliedBy(new BigNumber(10).pow(18))\n      const zero = new BigNumber('0')\n      setDisableDeposit(tokenBalance.lt(amount) || amount.lte(zero))\n    }\n  }, [connectedAccount, balance, depositAmount, currentToken]);\n\n  useEffect(() => {\n    if(listTokenDetails.length == 0 || rates.length == 0 || !currentToken) return\n    if(currentToken?.symbol == listTokenDetails[0]?.symbol) {\n      setCurrentRate(1)\n    } else if(currentToken?.symbol == listTokenDetails[1]?.symbol)\n    {\n      setCurrentRate(parseFloat(rates?.data[0]?.rate))\n    } else if(currentToken?.symbol == listTokenDetails[2]?.symbol)\n    {\n      setCurrentRate(parseFloat(rates?.data[1]?.rate))\n    }\n  }, [rates, currentToken, listTokenDetails])\n\n  const onDeposit = () => {\n    if(disableDeposit) return\n    dispatch(deposit(connectedAccount, depositAmount, library, currentToken.address));\n    setOpenModalTransactionSubmitting(true);\n    setOpenModalDeposit(false);\n    setDepositAmount('')\n    setDefaultToken();\n  }\n\n  const onApprove = () => {\n    dispatch(approve(connectedAccount, library, currentToken.address));\n    setOpenModalTransactionSubmitting(true);\n    setOpenModalDeposit(false);\n    setDepositAmount('')\n    setDefaultToken();\n  }\n\n  const handleClose = () => {\n    setOpenModalDeposit(false);\n    setDepositAmount('')\n    setDefaultToken();\n  }\n\n  const handleSelectToken = (e: any) => {\n    const tokens = listTokenDetails.filter((tokenDetails: any) => {\n      return tokenDetails.symbol == e.target.value\n    })\n    setCurrentToken(tokens[0])\n    if(e.target.value == 'PKF') {\n      setCurrentBalance(balance.pkf)\n      setCurrentStaked(userInfo.pkfStaked)\n      setCurrentAllowance(allowance.pkf)\n    } else if(e.target.value == CONVERSION_RATE[0].key && appChainID.appChainID == '5'\n      || e.target.value == CONVERSION_RATE[0].keyMainnet && appChainID.appChainID == '1')\n    {\n      setCurrentBalance(balance.uni)\n      setCurrentStaked(userInfo.uniStaked)\n      setCurrentAllowance(allowance.uni)\n    } else if(e.target.value == CONVERSION_RATE[1].key && appChainID.appChainID == '5'\n      || e.target.value == CONVERSION_RATE[1].keyMainnet && appChainID.appChainID == '1')\n    {\n      setCurrentBalance(balance.mantra)\n      setCurrentStaked(userInfo.mantraStaked)\n      setCurrentAllowance(allowance.mantra)\n    }\n  }\n  const handleChange = (e: any) => {\n    const value = e.target.value.replaceAll(\",\", \"\")\n    if (value === '' || REGEX_NUMBER.test(value)) {\n      setDepositAmount(value);\n    }\n  }\n\n  return (\n    <Dialog\n      open={open}\n      keepMounted\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-slide-title\"\n      aria-describedby=\"alert-dialog-slide-description\"\n      className={commonStyles.modal + ' ' + this.styles.modalDeposit}\n    >\n      <div className=\"modal-content\">\n        <DialogTitle id=\"alert-dialog-slide-title\" className=\"modal-content__head\">\n          <img src={closeIcon} className=\"btn-close\" onClick={handleClose}/>\n          <h2 className=\"title\">You have {numberWithCommas(totalStaked)} {listTokenDetails[0]?.symbol} staked</h2>\n          <p className={this.styles.description}>{currentAllowance == '0' ? 'You need to Approve once (and only once) before you can start staking.'\n            : 'You have approved. Click Stake to stake.'}\n          </p>\n        </DialogTitle>\n        <DialogContent className=\"modal-content__body\">\n          {open && <select name=\"select_token\" id=\"select-token\" onChange={(e) => handleSelectToken(e)}>\n            {listTokenDetails && listTokenDetails.map((tokenDetails: any, index: number) => {\n              return <option value={tokenDetails?.symbol} key={index}>{\n                index === 0 ? 'Polkafoundry (PKF)' : `${CONVERSION_RATE[index - 1].name} (${CONVERSION_RATE[index - 1].symbol})`\n              }</option>\n            })}\n          </select>}\n\n          <div className={this.styles.group}>\n            <div className=\"balance\">\n              <div>\n                <span>Your wallet balance</span>\n                <span>{ !currentBalance ? 0 : numberWithCommas(currentBalance) } {\n                  currentToken?.symbol == 'PKF' ? 'PKF'\n                  : (appChainID.appChainID == '5' && currentToken?.symbol == CONVERSION_RATE[0].key ||\n                    appChainID.appChainID == '1' && currentToken?.symbol == CONVERSION_RATE[0].keyMainnet) ? CONVERSION_RATE[0]?.symbol : CONVERSION_RATE[1]?.symbol\n                }</span>\n              </div>\n            </div>\n            <div className=\"subtitle\">\n              <span>Input</span>\n            </div>\n            <div className=\"input-group\">\n              <NumberFormat\n                type=\"text\"\n                placeholder={'0'}\n                thousandSeparator={true}\n                onChange={e => handleChange(e)}\n                decimalScale={6}\n                value={depositAmount}\n                min={0}\n                maxLength={255}\n              />\n              <div>\n                <button className=\"btn-max\" id=\"btn-max-deposit\" onClick={() => setDepositAmount(currentBalance)}>MAX</button>\n              </div>\n            </div>\n            <div className=\"balance\" style={{marginTop: '10px'}}>\n              <div>\n                <span>Equivalent</span>\n                <span>{numberWithCommas((parseFloat(depositAmount) * currentRate || 0).toString())} {listTokenDetails[0]?.symbol}</span>\n              </div>\n            </div>\n          </div>\n        </DialogContent>\n        <DialogActions className=\"modal-content__foot\">\n          {currentAllowance=='0' ? <button\n            className={\"btn-approve\" + (loading ? 'disabled' : '')}\n            onClick={onApprove}\n            disabled={loading}\n          >Approve</button> : <button\n            className={\"btn-staking \" + (disableDeposit ? 'disabled' : '')}\n            onClick={onDeposit}\n          >Stake</button>}\n          <button\n            className=\"btn-cancel\"\n            onClick={handleClose}\n          >Cancel</button>\n        </DialogActions>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ModalDeposit;\n"]},"metadata":{},"sourceType":"module"}