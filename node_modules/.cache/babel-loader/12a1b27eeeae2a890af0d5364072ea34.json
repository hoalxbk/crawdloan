{"ast":null,"code":"var _jsxFileName = \"/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/Dashboard/Card/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport useStyles from './style';\nimport { numberWithCommas } from '../../../utils/formatNumber';\nimport { Link } from 'react-router-dom';\nimport { ACCEPT_CURRENCY, BUY_TYPE, NETWORK } from '../../../constants';\nimport useFetch from '../../../hooks/useFetch';\nimport { getIconCurrencyUsdt } from \"../../../utils/usdt\";\nimport { PoolStatus } from \"../../../utils/getPoolStatus\";\nimport { getAccessPoolText, getProgressWithPools } from \"../../../utils/campaign\";\nimport BigNumber from 'bignumber.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst dotIcon = '/images/icons/dot.svg';\nconst EthereumIcon = \"/images/ethereum.svg\";\nconst BSCIcon = \"/images/bsc.svg\";\n\nconst Card = props => {\n  _s();\n\n  const styles = useStyles();\n  const {\n    pool\n  } = props;\n  const {\n    data: participants\n  } = useFetch(`/user/counting/${pool.id}`);\n  let {\n    progress,\n    tokenSold,\n    totalSoldCoin\n  } = getProgressWithPools(pool); // useEffect(() => {\n  //   const currentTime = moment().unix()\n  //   let diffTime = 0;\n  //   if(pool.start_join_pool_time > currentTime) {\n  //     diffTime = parseInt(pool.start_join_pool_time) - currentTime;\n  //   } else if(pool.start_time > currentTime) {\n  //     diffTime = parseInt(pool.start_time) - currentTime;\n  //   }\n  //   let intervalCount: any;\n  //   if (diffTime > 0) {\n  //     let timeLeftToStart = diffTime * 1000\n  //   const interval = 1000;\n  //     intervalCount = setInterval(() => {\n  //       timeLeftToStart -= interval;\n  //       const timeLeftDuration = moment.duration(timeLeftToStart, 'milliseconds');\n  //       let timeLeftString = '';\n  //       if (timeLeftToStart >= 86400000) {\n  //         timeLeftString = 'In ' + timeLeftDuration.days() + \" days\"\n  //       } else {\n  //         timeLeftString = 'In ' + timeLeftDuration.hours() + \":\" + timeLeftDuration.minutes() + \":\" + timeLeftDuration.seconds()\n  //       }\n  //       setTimeLeft(timeLeftString)\n  //     }, interval);\n  //   }\n  //   return () => clearInterval(intervalCount);\n  // }, [])\n\n  const {\n    currencyIcon,\n    currencyName\n  } = getIconCurrencyUsdt({\n    purchasableCurrency: pool === null || pool === void 0 ? void 0 : pool.accept_currency,\n    networkAvailable: pool === null || pool === void 0 ? void 0 : pool.network_available\n  });\n  return /*#__PURE__*/_jsxDEV(Link, {\n    to: `/buy-token/${pool.id}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: pool.banner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), pool.status == PoolStatus.Closed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time ended\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ended\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 48\n        }, this), pool.status == PoolStatus.TBA && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time tba\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"TBA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 45\n        }, this), pool.status == PoolStatus.Filled && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time filled\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Filled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 48\n        }, this), pool.status == PoolStatus.Progress && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time in-progress\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"In Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 50\n        }, this), pool.status == PoolStatus.Joining && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time joining\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Whitelisting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 49\n        }, this), pool.status == PoolStatus.Claimable && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time claimable\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Claimable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 51\n        }, this), pool.status == PoolStatus.Upcoming && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time upcoming\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Upcoming\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardBody,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content__title\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: pool.token_images\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: pool.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [pool.name, ` (${pool.symbol})`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"card-content__content\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total\",\n              children: [\"1 \", pool.symbol, \" =\\xA0\", pool.accept_currency === ACCEPT_CURRENCY.ETH && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [numberWithCommas(pool === null || pool === void 0 ? void 0 : pool.price_usdt, 4), \" USD\"]\n              }, void 0, true), pool.accept_currency !== ACCEPT_CURRENCY.ETH && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [numberWithCommas(pool === null || pool === void 0 ? void 0 : pool.token_conversion_rate, 4), \" \", ' ', currencyName]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Participants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total\",\n              children: pool.buy_type == BUY_TYPE.WHITELIST_LOTTERY ? numberWithCommas(participants) : 'All'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Access\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total\",\n              children: getAccessPoolText(pool)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Network\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total\",\n              children: pool.network_available === NETWORK.ETHEREUM ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: EthereumIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 64\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: BSCIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 93\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `current-progress ${parseFloat(progress) > 0 ? '' : 'inactive'}`,\n              style: {\n                width: `${parseFloat(progress) > 99 ? 100 : Math.round(parseFloat(progress))}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [new BigNumber(progress).gte(100) ? new BigNumber(progress).toFixed(0) : new BigNumber(progress).toFixed(2), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [numberWithCommas(tokenSold, 0), \"/\", numberWithCommas(totalSoldCoin)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"aU3v8b3VyujTGD6tzXgRxqLeZuc=\", false, function () {\n  return [useStyles, useFetch];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/Dashboard/Card/index.tsx"],"names":["React","useStyles","numberWithCommas","Link","ACCEPT_CURRENCY","BUY_TYPE","NETWORK","useFetch","getIconCurrencyUsdt","PoolStatus","getAccessPoolText","getProgressWithPools","BigNumber","dotIcon","EthereumIcon","BSCIcon","Card","props","styles","pool","data","participants","id","progress","tokenSold","totalSoldCoin","currencyIcon","currencyName","purchasableCurrency","accept_currency","networkAvailable","network_available","card","cardHeader","banner","status","Closed","TBA","Filled","Progress","Joining","Claimable","Upcoming","cardBody","token_images","title","name","symbol","ETH","price_usdt","token_conversion_rate","buy_type","WHITELIST_LOTTERY","ETHEREUM","parseFloat","width","Math","round","gte","toFixed"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport useStyles from './style';\nimport {numberWithCommas} from '../../../utils/formatNumber';\nimport {Link} from 'react-router-dom';\nimport {ACCEPT_CURRENCY, BUY_TYPE, NETWORK} from '../../../constants';\nimport useFetch from '../../../hooks/useFetch';\nimport {getIconCurrencyUsdt} from \"../../../utils/usdt\";\nimport {PoolStatus} from \"../../../utils/getPoolStatus\";\nimport {getAccessPoolText, getProgressWithPools} from \"../../../utils/campaign\";\nimport BigNumber from 'bignumber.js';\n\nconst dotIcon = '/images/icons/dot.svg'\nconst EthereumIcon = \"/images/ethereum.svg\";\nconst BSCIcon = \"/images/bsc.svg\";\n\nconst Card = (props: any): JSX.Element => {\n  const styles = useStyles();\n\n  const {\n    pool\n  } = props\n  const { data: participants } = useFetch<any>(`/user/counting/${pool.id}`);\n\n  let {\n    progress,\n    tokenSold,\n    totalSoldCoin,\n  } = getProgressWithPools(pool);\n\n  // useEffect(() => {\n  //   const currentTime = moment().unix()\n  //   let diffTime = 0;\n  //   if(pool.start_join_pool_time > currentTime) {\n  //     diffTime = parseInt(pool.start_join_pool_time) - currentTime;\n  //   } else if(pool.start_time > currentTime) {\n  //     diffTime = parseInt(pool.start_time) - currentTime;\n  //   }\n\n  //   let intervalCount: any;\n  //   if (diffTime > 0) {\n  //     let timeLeftToStart = diffTime * 1000\n  //   const interval = 1000;\n\n  //     intervalCount = setInterval(() => {\n  //       timeLeftToStart -= interval;\n  //       const timeLeftDuration = moment.duration(timeLeftToStart, 'milliseconds');\n  //       let timeLeftString = '';\n  //       if (timeLeftToStart >= 86400000) {\n  //         timeLeftString = 'In ' + timeLeftDuration.days() + \" days\"\n  //       } else {\n  //         timeLeftString = 'In ' + timeLeftDuration.hours() + \":\" + timeLeftDuration.minutes() + \":\" + timeLeftDuration.seconds()\n  //       }\n  //       setTimeLeft(timeLeftString)\n  //     }, interval);\n  //   }\n\n  //   return () => clearInterval(intervalCount);\n  // }, [])\n\n  const { currencyIcon, currencyName } = getIconCurrencyUsdt({ purchasableCurrency: pool?.accept_currency, networkAvailable: pool?.network_available });\n\n  return (\n    <Link to={`/buy-token/${pool.id}`}>\n      <div className={styles.card}>\n        <div className={styles.cardHeader}>\n          <img src={pool.banner} />\n          {pool.status == PoolStatus.Closed && <div className=\"time ended\">\n            <span>Ended</span>\n          </div>}\n          {pool.status == PoolStatus.TBA && <div className=\"time tba\">\n            <span>TBA</span>\n          </div>}\n          {pool.status == PoolStatus.Filled && <div className=\"time filled\">\n            <span>Filled</span>\n          </div>}\n          {pool.status == PoolStatus.Progress && <div className=\"time in-progress\">\n            <span>In Progress</span>\n          </div>}\n          {pool.status == PoolStatus.Joining && <div className=\"time joining\">\n            <span>Whitelisting</span>\n          </div>}\n          {pool.status == PoolStatus.Claimable && <div className=\"time claimable\">\n            <span>Claimable</span>\n          </div>}\n          {pool.status == PoolStatus.Upcoming && <div className=\"time upcoming\">\n            <span>Upcoming</span>\n          </div>}\n        </div>\n        <div className={styles.cardBody}>\n          <div className=\"card-content__title\">\n            <img src={pool.token_images} />\n            <div>\n              <h2>{pool.title}</h2>\n              <p>{pool.name}{` (${pool.symbol})`}</p>\n            </div>\n          </div>\n          <ul className=\"card-content__content\">\n            <li>\n              <span>Rate</span>\n              <span className=\"total\">1 {pool.symbol} =&nbsp;\n\n                {pool.accept_currency === ACCEPT_CURRENCY.ETH &&\n                  <>\n                    {numberWithCommas(pool?.price_usdt, 4)} USD\n                  </>\n                }\n\n                {pool.accept_currency !== ACCEPT_CURRENCY.ETH &&\n                  <>\n                    {numberWithCommas(pool?.token_conversion_rate, 4)} {' '}\n                    {currencyName}\n                    {/*{pool?.accept_currency?.toUpperCase()}*/}\n                  </>\n                }\n\n                {/*{numberWithCommas(pool.price_usdt, 4)} USDT*/}\n                {/*{pool.accept_currency === ACCEPT_CURRENCY.ETH ?*/}\n                {/*  numberWithCommas(pool.ether_conversion_rate, 4) :*/}\n                {/*  numberWithCommas(pool.token_conversion_rate, 4)} {pool.accept_currency.toUpperCase()}*/}\n              </span>\n            </li>\n            <li>\n              <span>Participants</span>\n              <span className=\"total\">{ pool.buy_type == BUY_TYPE.WHITELIST_LOTTERY ? numberWithCommas(participants) : 'All' }</span>\n            </li>\n            <li>\n              <span>Access</span>\n              <span className=\"total\">\n                {\n                  getAccessPoolText(pool)\n                }\n              </span>\n            </li>\n            <li>\n              <span>Network</span>\n              <span className=\"total\">\n                {pool.network_available === NETWORK.ETHEREUM ? <img src={EthereumIcon} /> : <img src={BSCIcon} />}\n              </span>\n            </li>\n          </ul>\n\n          {/* {pool.status == POOL_STATUS.UPCOMMING && <div className=\"token-area\">\n            {pool.network_available === NETWORK.ETHEREUM && <div>\n              <img src={EthereumIcon} />\n              <span>Ethereum</span>\n            </div>}\n            {pool.network_available === NETWORK.BSC && <div>\n              <img src={BSCIcon}/>\n              <span>BSC</span>\n            </div>}\n          </div>} */}\n\n          <div className=\"progress-area\">\n            <p>Progress</p>\n            <div className=\"progress\">\n              <span\n                className={`current-progress ${parseFloat(progress) > 0 ? '' : 'inactive'}`}\n                style={{ width: `${parseFloat(progress) > 99 ? 100 : Math.round(parseFloat(progress))}%` }}\n              ></span>\n            </div>\n            <div>\n              <div>\n                <span>\n                  {new BigNumber(progress).gte(100) ?\n                    new BigNumber(progress).toFixed(0) :\n                    new BigNumber(progress).toFixed(2)\n                  }\n                  %\n                </span>\n              </div>\n              <span>\n                {numberWithCommas(tokenSold, 0)}\n                /\n                {numberWithCommas(totalSoldCoin)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}