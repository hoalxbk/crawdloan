{"ast":null,"code":"var _jsxFileName = \"/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/ConfirmEmail/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { CircularProgress } from '@material-ui/core';\nimport { withRouter, useParams } from 'react-router-dom';\nimport { alertFailure, alertSuccess } from '../../store/actions/alert';\nimport { BaseRequest } from '../../request/Request';\nimport useStyles from './style';\nimport { apiRoute } from \"../../utils\";\nimport DefaultLayout from '../../components/Layout/DefaultLayout';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst logo = '/images/logo-red-kite.svg';\n\nconst ConfirmEmail = props => {\n  _s();\n\n  const styles = useStyles();\n  const dispatch = useDispatch();\n  const [confirmEmailLoading, setConfirmEmailLoading] = useState(false);\n  const [verifySuccess, setVerifySuccess] = useState(false);\n  const {\n    token\n  } = useParams();\n  useEffect(() => {\n    const confirmEmail = async () => {\n      setConfirmEmailLoading(true);\n\n      if (token) {\n        const baseRequest = new BaseRequest();\n        const response = await baseRequest.get(apiRoute(`/confirm-email/${token}`));\n        const resObj = await response.json();\n\n        if (resObj.status && resObj.status === 200) {\n          dispatch(alertSuccess('Email address confirmed'));\n          setVerifySuccess(true);\n        } else {\n          dispatch(alertFailure(resObj.message));\n          setVerifySuccess(false);\n        }\n      }\n\n      setConfirmEmailLoading(false);\n    };\n\n    confirmEmail();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DefaultLayout, {\n    children: [confirmEmailLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentLoading,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 80\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 10,\n            fontSize: 17,\n            fontWeight: 600\n          },\n          children: \"Email Confirmation Processing ...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 31\n    }, this), !confirmEmailLoading && verifySuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.confirmEmail,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Email address confirmed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You have successfully updated your email address. Please use your new email address to log in.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/account\",\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 49\n    }, this), !confirmEmailLoading && !verifySuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.confirmEmail,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Email address verify failure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Active account link has expried.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/account\",\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 50\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ConfirmEmail, \"9qnIcpoUFdieY26bDWyubxq/+ss=\", false, function () {\n  return [useStyles, useDispatch, useParams];\n});\n\n_c = ConfirmEmail;\nexport default _c2 = withRouter(ConfirmEmail);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ConfirmEmail\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/lehoa/icetea/work/redkite/frontend-user/src/pages/ConfirmEmail/index.tsx"],"names":["React","useState","useEffect","useDispatch","CircularProgress","withRouter","useParams","alertFailure","alertSuccess","BaseRequest","useStyles","apiRoute","DefaultLayout","Link","logo","ConfirmEmail","props","styles","dispatch","confirmEmailLoading","setConfirmEmailLoading","verifySuccess","setVerifySuccess","token","confirmEmail","baseRequest","response","get","resObj","json","status","message","contentLoading","textAlign","marginTop","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { CircularProgress } from '@material-ui/core';\nimport { withRouter, useParams } from 'react-router-dom';\n\nimport { alertFailure, alertSuccess } from '../../store/actions/alert';\nimport { BaseRequest } from '../../request/Request';\nimport useStyles from './style';\nimport { apiRoute } from \"../../utils\";\nimport DefaultLayout from '../../components/Layout/DefaultLayout';\nimport { Link } from 'react-router-dom';\n\nconst logo = '/images/logo-red-kite.svg'\n\nconst ConfirmEmail: React.FC<any> = (props: any) => {\n  const styles = useStyles();\n  const dispatch = useDispatch();\n\n  const [confirmEmailLoading, setConfirmEmailLoading] = useState(false);\n  const [verifySuccess, setVerifySuccess] = useState(false);\n\n  const { token } = useParams() as any;\n\n  useEffect(() => {\n    const confirmEmail = async () => {\n      setConfirmEmailLoading(true);\n\n      if (token) {\n        const baseRequest = new BaseRequest();\n\n        const response = await baseRequest.get(apiRoute(`/confirm-email/${token}`)) as any;\n        const resObj = await response.json();\n\n        if (resObj.status && resObj.status === 200) {\n          dispatch(alertSuccess('Email address confirmed'));\n          setVerifySuccess(true)\n        } else {\n          dispatch(alertFailure(resObj.message));\n          setVerifySuccess(false)\n        }\n      }\n\n      setConfirmEmailLoading(false);\n    }\n\n    confirmEmail();\n  }, []);\n\n  return (\n    <DefaultLayout>\n      {confirmEmailLoading && <div className={styles.contentLoading}>\n        <div style={{ textAlign: 'center' }}>\n          <CircularProgress size={80} />\n          <p style={{ marginTop: 10, fontSize: 17, fontWeight: 600 }}>\n            Email Confirmation Processing ...\n          </p>\n        </div>\n      </div>}\n      {!confirmEmailLoading && verifySuccess && <div className={styles.confirmEmail}>\n        <img src={logo} alt=\"\"/>\n        <h2>Email address confirmed</h2>\n        <p>You have successfully updated your email address. Please use your new email address to log in.</p>\n        <Link to=\"/account\">Return</Link>\n      </div>}\n      {!confirmEmailLoading && !verifySuccess && <div className={styles.confirmEmail}>\n        <img src={logo} alt=\"\"/>\n        <h2>Email address verify failure</h2>\n        <p>Active account link has expried.</p>\n        <Link to=\"/account\">Return</Link>\n      </div>}\n    </DefaultLayout>\n  )\n};\n\nexport default withRouter(ConfirmEmail);\n"]},"metadata":{},"sourceType":"module"}